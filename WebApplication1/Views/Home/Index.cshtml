@model WebApplication1.Models.ViewModels.DashboardViewModel
@{
    ViewData["Title"] = "Home Page";
}

<style>
    #dashboard-container {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        width: 80%;
        margin-left: auto;
        margin-right: auto;
        margin-top: 5%;
        margin-bottom: 5%;
    }

    .dashboard-item-container {
        text-align: center;
        font-size: 30px;
        border: 1px solid #e6e6e6;
        border-radius: 8px;
        padding: 5%;
        margin: 5%;
    }

        .dashboard-item-container i {
            font-size: 300%;
        }

        #vote-button-container{
            display:flex; flex-direction:row; justify-content:end;            
        }
        #vote-button-container a{
            font-size:150%;
        }
</style>

<h1 class="text-center">Welcome to Voting App</h1>

@if (!@Model.UserHasVoted)
{
<div id="vote-button-container">
    <a class="btn btn-default" asp-controller="Vote" asp-action="Index" title="Voter">
        Voter <i class="fa fa-chevron-right" aria-hidden="true"></i>
    </a>
</div>    
}

<div id="dashboard-container">
    <div class="dashboard-item-container">
        <i class="fa fa-user" aria-hidden="true"></i>
        <p>@Model.NbCandidates Candidates</p>
    </div>
    <div class="dashboard-item-container">
        <i class="fa fa-users" aria-hidden="true"></i>
        <p>@Model.NbVoters Voters</p>
    </div>
    <div class="dashboard-item-container">
        <i class="fa fa-envelope" aria-hidden="true"></i>
        <p>@Model.NbVotes Votes</p>
    </div>
    <div class="dashboard-item-container">
        <i class="fa fa-pie-chart" aria-hidden="true"></i>
        <p>@Model.ParticipationRate.ToString("F2") %</p>
    </div>
</div>

@if (@Model.UserHasVoted)
{
    @foreach (var candidate in Model.Candidates)
    {
        <p>@candidate.FirstName @candidate.LastName</p>
        <p>@candidate.VotesCount Votes</p>
    }
}


